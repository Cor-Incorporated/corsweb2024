---
const calendarId = import.meta.env.PUBLIC_GCAL_ID;
const calendarTz = import.meta.env.PUBLIC_GCAL_TZ;
const calendarParams = import.meta.env.PUBLIC_GCAL_PARAMS;
const calendarSrc = `https://calendar.google.com/calendar/embed?src=${encodeURIComponent(calendarId)}&ctz=${encodeURIComponent(calendarTz)}&${calendarParams}`;
---

// Googleカレンダー埋め込み用コンポーネント

<section class="py-16 sm:py-20">
  <div class="mx-auto max-w-2xl px-4 sm:px-6 lg:max-w-7xl lg:px-8">
    <div class="flex flex-col gap-8">
      <div class="text-center">
        <h2 class="text-3xl font-medium tracking-tight sm:text-4xl">
          代表スケジュール
        </h2>
        <p class="mt-4 text-lg text-primary-950/70 dark:text-primary-200/70">
          代表の公開スケジュールです。ミーティングのご依頼などの際にご参照ください。
        </p>
      </div>
      
      <div class="mx-auto w-full max-w-4xl">
        <div class="relative overflow-hidden rounded-3xl bg-white shadow-lg dark:bg-primary-900">
          <!-- レスポンシブ対応のためのコンテナ -->
          <div class="relative pb-[56.25%] h-0"> <!-- 16:9 アスペクト比 -->
            <iframe
              src={calendarSrc}
              style="border: 0"
              class="absolute top-0 left-0 w-full h-full"
              frameborder="0"
              scrolling="no"
              title="代表スケジュール"
              loading="lazy"
              allowfullscreen
              referrerpolicy="no-referrer"
              role="region"
              aria-label="代表スケジュールカレンダー"
            ></iframe>
          </div>
        </div>
        
        <!-- カレンダー下部の説明 -->
        <div class="mt-6 text-center">
          <p class="text-sm text-primary-950/60 dark:text-primary-200/60">
            * ミーティングのご依頼は下記のお問い合わせフォームよりご連絡ください。
          </p>
        </div>
      </div>
    </div>
  </div>
</section>